{% extends "base.html" %} {% block content %}
<div class="mainList">
  <div class="left">
    <form class="left-form" action="/list/cafe/서울/애견동반" method="post">
      {% csrf_token %}
      <!-- 강원도를 선택하셨군요! -->
      <div class="location-header-row-box">
        <div class="location-img"></div>
        <div class="location-text-col-box">
          <h1 class="selected-location">{{location}}</h1>
          <h3 class="fighting">
            훌륭한 선택입니다!<br />댕댕이와 즐거운 여행되세요!
          </h3>
        </div>
      </div>
      <fieldset id="group1">
        <div class="left-cate">
          {% if category == "cafe" %}
          <input
            type="radio"
            name="category"
            value="cafe"
            id="form-category"
            checked
          />
          {% else %}
          <input type="radio" name="category" value="cafe" id="form-category" />
          {% endif %}
          <label
            for="form-category"
            class="small-category"
            onclick="onClickCate(`카페`)"
            >멍카페</label
          >
          {% if category == "accomo" %}
          <input
            type="radio"
            name="category"
            value="accomo"
            id="form-category2"
            checked
          />
          {% else %}
          <input
            type="radio"
            name="category"
            value="accomo"
            id="form-category2"
          />
          {% endif %}
          <label
            for="form-category2"
            class="small-category"
            onclick="onClickCate(`숙소`)"
            >멍숙소</label
          >
          {% if category == "place" %}
          <input
            type="radio"
            name="category"
            value="place"
            id="form-category3"
            checked
          />
          {% else %}
          <input
            type="radio"
            name="category"
            value="place"
            id="form-category3"
          />
          {% endif %}
          <label
            for="form-category3"
            class="small-category"
            onclick="onClickCate(`장소`)"
            >멍놀자</label
          >
        </div>
      </fieldset>
      <fieldset id="group2">
        <div class="form-location">
          {% for loc in locations %} {% if loc == location %}
          <input
            type="radio"
            name="location"
            value="{{loc}}"
            id="location-{{loc}}"
            checked
          />
          <label for="location-{{loc}}" class="area-label">{{loc}}</label>
          {% else %}
          <input
            type="radio"
            name="location"
            value="{{loc}}"
            id="location-{{loc}}"
          />
          <label for="location-{{loc}}" class="area-label">{{loc}}</label>
          {% endif %} {% endfor %}
        </div>
      </fieldset>
      <!-- 아래줄 동작에 필요 -->
      <div class="selected-category">카페 옵션선택</div>
      <div class="selected-type">{{type}}</div>
      <fieldset id="group3">
        <div class="option-box">
          {% if category == "cafe" %}
          <div class="option-col">
            <label class="type-menu">
              <input type="radio" name="type" value="애견전용" />
              <span></span> 애견전용
            </label>
            <label class="type-menu">
              <input type="radio" name="type" value="애견동반" />
              <span></span> 애견동반
            </label>
          </div>
          {% elif category == "accomo" %}
          <div class="option-col">
            <label class="type-menu">
              <input type="radio" name="type" value="호텔" />
              <span></span> 호텔
            </label>
            <label>
              <input type="radio" name="type" value="모텔" />
              <span></span> 모텔
            </label>
          </div>
          <div class="option-col">
            <label class="type-menu">
              <input type="radio" name="type" value="리조트" />
              <span></span> 리조트
            </label>
            <label class="type-menu">
              <input type="radio" name="type" value="펜션" />
              <span></span> 펜션
            </label>
          </div>
          {% elif category == "place" %}
          <div class="option-col">
            <label class="type-menu">
              <input type="radio" name="type" value="공원" />
              <span></span> 공원
            </label>
            <label class="type-menu">
              <input type="radio" name="type" value="수영장" />
              <span></span> 수영장
            </label>
          </div>
          <div class="option-col">
            <label class="type-menu">
              <input type="radio" name="type" value="해변" />
              <span></span> 해변
            </label>
            <label class="type-menu">
              <input type="radio" name="type" value="명소" />
              <span></span> 명소
            </label>
          </div>
          {% endif %}
        </div>
      </fieldset>
      <div>
        <button class="search-btn" type="submit" value="SUBMIT">SEARCH</button>
      </div>
    </form>
  </div>
  <div class="right">
    <div class="list">
      <div class="list-indexing">
        {% for place, favorite in posts, likes %}
        <div class="list-box-right">
          <div class="img-box"><img src="" alt="" /></div>
          <div class="accom-text-box">
            <h1>
              <a href="/detail/{{category}}/{{place.id}}" class="name"
                >{{place.name}}</a
              >
            </h1>
            <span class="type">{{place.type}}</span>
            <h3 class="phone">{{place.phone}}</h3>
            <div class="like-box">
              <div class="favorite" id="favorite-{{favorite.id}}">
                <div class="like">
                  <button type="submit" onclick="onClickLike()">
                    {% csrf_token %} {% if favorite.like %}
                    <i class="fas fa-heart"></i>
                    {%else%}
                    <i class="far fa-heart"></i>
                    {%endif%}
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      <div class="pagination-bar">
        {% if posts.has_previous %}
        <a href="?page=1">[맨 앞으로]</a>
        <a href="?page={{ posts.previous_page_number }}">[앞으로]</a>
        {% endif %}
        <span>{{posts.number}}</span>
        {% if posts.has_next %}
        <a href="?page={{ posts.next_page_number }}">[다음으로]</a>
        <a href="?page={{ posts.paginator.num_pages }}">[맨 뒤로]</a>
        {% endif %}
      </div>
    </div>
  </div>
</div>

{% endblock %}

<script>
  //   for (var i = 0; i < length(likes); i++) {
  //     box = document.querySelector(".like-box").innerHTML;
  //     box += `<div class="favorite" id="favorite-${likes[i].id}">
  //   <div class="like">
  //   </div>
  // </div>`;
  //     lk = document.querySelector(".like").innerHTML;
  //     if (likes[i].like) {
  //       lk = `<button type="submit" onclick="onClickLike()">
  //       {% csrf_token %}
  //       <i class="fas fa-heart"></i>
  //     </button>`;
  //     } else {
  //       lk = `<button type="submit" onclick="onClickLike()">
  //       {% csrf_token %}
  //       <i class="far fa-heart"></i>
  //     </button>`;
  //     }
  //   }
</script>
<!-- <div class="page-shift-container">
  <div class="mainList-shift-btn-left">
    <button onclick="onClickMainList('left')">&lt;</button>
  </div>
  <div id="page-num">0</div>
  <div class="mainList-shift-btn-right">
    <button onclick="onClickMainList('right')">&gt;</button>
  </div>
</div> -->
